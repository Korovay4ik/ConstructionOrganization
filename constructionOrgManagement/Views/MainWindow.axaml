<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="using:constructionOrgManagement.ViewModels"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d" d:DesignWidth="800" d:DesignHeight="450"
        x:Class="constructionOrgManagement.Views.MainWindow"
        x:DataType="vm:MainWindowViewModel"
        Icon="/Assets/avalonia-logo.ico"
        Title="Ð˜Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ð¾Ð½Ð½Ð°Ñ ÑÐ¸ÑÑ‚ÐµÐ¼Ð° ÑÑ‚Ñ€Ð¾Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾Ð¹ Ð¾Ñ€Ð³Ð°Ð½Ð¸Ð·Ð°Ñ†Ð¸Ð¸">

	<Window.Styles>
		<Style Selector="Button.menu-button">
			<Setter Property="Background" Value="Transparent"/>
			<Setter Property="BorderBrush" Value="Transparent"/>
			<Setter Property="HorizontalContentAlignment" Value="Left"/>
			<Setter Property="HorizontalAlignment" Value="Stretch"/>
			<Setter Property="Padding" Value="10 5"/>
			<Setter Property="Margin" Value="5 2"/>
			<Setter Property="Cursor" Value="Hand"/>
		</Style>

		<Style Selector="Button.danger-button">
			<Setter Property="Background" Value="Transparent"/>
			<Setter Property="BorderBrush" Value="Transparent"/>
			<Setter Property="Foreground" Value="#d32f2f"/>
			<Setter Property="HorizontalContentAlignment" Value="Left"/>
			<Setter Property="Padding" Value="10 5"/>
			<Setter Property="Margin" Value="5 10 5 5"/>
			<Setter Property="Cursor" Value="Hand"/>
		</Style>

		<Style Selector="Border.menu-header">
			<Setter Property="Background" Value="#3a3a3a"/>
			<Setter Property="Padding" Value="5 5"/>
		</Style>
	</Window.Styles>

	<Grid>
		<SplitView IsPaneOpen="{Binding #btnOpenMenu.IsChecked}"
                   DisplayMode="CompactInline"
                   PanePlacement="Left"
                   OpenPaneLength="220"
                   CompactPaneLength="50"
                   IsVisible="{Binding IsMenuVisible}">

			<SplitView.Pane>
				<Grid>
					<Grid.RowDefinitions>
						<RowDefinition Height="Auto"/>
						<RowDefinition Height="*"/>
						<RowDefinition Height="Auto"/>
					</Grid.RowDefinitions>

					<Border Grid.Row="0" Classes="menu-header">
						<TextBlock Text="ÐœÐµÐ½ÑŽ ÑÐ¸ÑÑ‚ÐµÐ¼Ñ‹"
                                   HorizontalAlignment="Center"
                                   Foreground="White"
                                   FontWeight="Bold"/>
					</Border>

					<ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto">
						<StackPanel>
							<Button Classes="menu-button">
								<TextBlock Text="ðŸ  Ð“Ð»Ð°Ð²Ð½Ð°Ñ"/>
							</Button>

							<Button Classes="menu-button"
                                    Command="{Binding SwitchContent}"
                                    CommandParameter="{x:Type vm:DataManipulationViewModel}">
								<TextBlock Text="ðŸ“Š ÐŸÑ€Ð¾ÑÐ¼Ð¾Ñ‚Ñ€ Ð·Ð°Ð¿Ð¸ÑÐµÐ¹"/>
							</Button>

							<Button Classes="menu-button">
								<TextBlock Text="â„¹ï¸ Ð˜Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ñ"/>
							</Button>

							<Button Classes="menu-button">
								<TextBlock Text="ðŸ” Ð—Ð°Ð¿Ñ€Ð¾ÑÑ‹"/>
							</Button>
						</StackPanel>
					</ScrollViewer>

					<StackPanel Grid.Row="2" Spacing="5">
						<Button Classes="menu-button"
                                Click="ToggleTheme_Click"
                                Content="ðŸŒ“ Ð¡Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ Ñ‚ÐµÐ¼Ñƒ"/>

						<Button Classes="danger-button"
                                Command="{Binding LogoutCommand}"
                                Content="ðŸ‘‹ Ð¡Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ñ"/>

						<ToggleButton Name="btnOpenMenu"
									  Classes="menu-button"
									  HorizontalAlignment="Stretch"
									  HorizontalContentAlignment="Center">
							<ToggleButton.Styles>
								<Style Selector="ToggleButton[IsChecked=true] /template/ ContentPresenter">
									<Setter Property="Content" Value="â—€ï¸ Ð¡Ð²ÐµÑ€Ð½ÑƒÑ‚ÑŒ Ð¼ÐµÐ½ÑŽ"/>
								</Style>
								<Style Selector="ToggleButton[IsChecked=false] /template/ ContentPresenter">
									<Setter Property="Content" Value="â–¶ï¸"/>
								</Style>
							</ToggleButton.Styles>
						</ToggleButton>
						
					</StackPanel>
				</Grid>
			</SplitView.Pane>

			<ContentControl Content="{Binding ContentSwitcher}"/>
		</SplitView>

		<ContentControl Content="{Binding ContentSwitcher}"
                       IsVisible="{Binding !IsMenuVisible}"/>
	</Grid>

</Window>
