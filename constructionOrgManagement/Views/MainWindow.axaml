<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="using:constructionOrgManagement.ViewModels"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d" d:DesignWidth="800" d:DesignHeight="450"
        x:Class="constructionOrgManagement.Views.MainWindow"
        x:DataType="vm:MainWindowViewModel"
        Icon="/Assets/avalonia-logo.ico"
        Title="Ð˜Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ð¾Ð½Ð½Ð°Ñ ÑÐ¸ÑÑ‚ÐµÐ¼Ð° ÑÑ‚Ñ€Ð¾Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾Ð¹ Ð¾Ñ€Ð³Ð°Ð½Ð¸Ð·Ð°Ñ†Ð¸Ð¸">

	<Window.Styles>
		<Style Selector="Button.menu-button">
			<Setter Property="Background" Value="Transparent"/>
			<Setter Property="BorderBrush" Value="Transparent"/>
			<Setter Property="HorizontalContentAlignment" Value="Left"/>
			<Setter Property="HorizontalAlignment" Value="Stretch"/>
			<Setter Property="Padding" Value="10 5"/>
			<Setter Property="Margin" Value="5 2"/>
			<Setter Property="Cursor" Value="Hand"/>
		</Style>

		<Style Selector="Button.danger-button">
			<Setter Property="Background" Value="Transparent"/>
			<Setter Property="BorderBrush" Value="Transparent"/>
			<Setter Property="Foreground" Value="#d32f2f"/>
			<Setter Property="HorizontalContentAlignment" Value="Left"/>
			<Setter Property="Padding" Value="10 5"/>
			<Setter Property="Margin" Value="5 10 5 5"/>
			<Setter Property="Cursor" Value="Hand"/>
		</Style>

		<Style Selector="Border.menu-header">
			<Setter Property="Background" Value="#3a3a3a"/>
			<Setter Property="Padding" Value="5 5"/>
		</Style>

		<Style Selector="StackPanel.submenu-panel">
			<Setter Property="Margin" Value="0"/>
			<Setter Property="Spacing" Value="0"/>
			<Setter Property="IsVisible" Value="False"/>
			<Setter Property="Background" Value="{DynamicResource SystemControlBackgroundBaseLowBrush}"/>
		</Style>

	</Window.Styles>

	<Grid>
		<SplitView IsPaneOpen="{Binding #btnOpenMenu.IsChecked}"
                   DisplayMode="CompactInline"
                   PanePlacement="Left"
                   OpenPaneLength="255"
                   CompactPaneLength="51"
                   IsVisible="{Binding IsMenuVisible}">

			<SplitView.Pane>
				<Grid>
					<Grid.RowDefinitions>
						<RowDefinition Height="Auto"/>
						<RowDefinition Height="*"/>
						<RowDefinition Height="Auto"/>
					</Grid.RowDefinitions>

					<Border Grid.Row="0" Classes="menu-header">
						<TextBlock Text="ÐœÐµÐ½ÑŽ ÑÐ¸ÑÑ‚ÐµÐ¼Ñ‹"
                                   HorizontalAlignment="Center"
                                   Foreground="White"
                                   FontWeight="Bold"/>
					</Border>

					<ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto">
						<StackPanel>
							<!--<Button Classes="menu-button" 
									Content="â„¹ï¸ Ð˜Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ñ"/>-->

							<Button Classes="menu-button"
                                    Command="{Binding SwitchContent}"
                                    CommandParameter="{x:Type vm:DataManipulationViewModel}"
									Content ="ðŸ“Š ÐŸÑ€Ð¾ÑÐ¼Ð¾Ñ‚Ñ€ Ð·Ð°Ð¿Ð¸ÑÐµÐ¹"/>

							<Border HorizontalAlignment="Center" Height="20">
								<TextBlock Text="ðŸ” Ð—Ð°Ð¿Ñ€Ð¾ÑÑ‹ ðŸ”"
										   IsVisible="{Binding #btnOpenMenu.IsChecked}"
										   HorizontalAlignment="Center"/>
							</Border>

							<StackPanel>
								<Button Classes="menu-button"
										Click="OnDropdownButtonClick" 
										Content="ðŸ¢ ÐžÑ€Ð³Ð°Ð½Ð¸Ð·Ð°Ñ†Ð¸Ð¾Ð½Ð½Ñ‹Ðµ Ð´Ð°Ð½Ð½Ñ‹Ðµ â–¼"/>

								<StackPanel Classes="submenu-panel">
									<Button Classes="menu-button"
											Content="ðŸ¢ Ð£Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ñ Ð¸ Ñ€ÑƒÐºÐ¾Ð²Ð¾Ð´Ð¸Ñ‚ÐµÐ»Ð¸"
											Command="{Binding ShowDepartmentSupervisorCommand}"/>
									
									<Button Classes="menu-button"
											Content="ðŸ‘¨â€ðŸ’¼ Ð˜Ð½Ð¶ÐµÐ½ÐµÑ€Ð½Ñ‹Ð¹ ÑÐ¾ÑÑ‚Ð°Ð²"
											Command="{Binding ShowEngineeringAndTechnicalStaffQueryCommand}"/>
								</StackPanel>
							</StackPanel>

							<StackPanel>
								<Button Classes="menu-button"
										Click="OnDropdownButtonClick"
										Content="ðŸ‘¥ ÐŸÐµÑ€ÑÐ¾Ð½Ð°Ð» Ð¸ Ð±Ñ€Ð¸Ð³Ð°Ð´Ñ‹ â–¼"/>

								<StackPanel Classes="submenu-panel">
									<Button Classes="menu-button"
											Content="ðŸ‘· Ð¡Ð¾ÑÑ‚Ð°Ð² Ð±Ñ€Ð¸Ð³Ð°Ð´ Ð½Ð° Ð¾Ð±ÑŠÐµÐºÑ‚Ðµ"
											Command="{Binding ShowBrigadeOnObjectQueryCommand}"/>

									<Button Classes="menu-button"
											Content="ðŸ› ï¸ Ð Ð°Ð±Ð¾Ñ‚Ñ‹ Ð±Ñ€Ð¸Ð³Ð°Ð´Ñ‹"
											Command="{Binding ShowWorkTypeBrigadeQueryCommand}"/>
									
									<Button Classes="menu-button"
											Content="ðŸ‘¥ Ð‘Ñ€Ð¸Ð³Ð°Ð´Ñ‹ Ð¿Ð¾ Ð²Ð¸Ð´Ñƒ Ñ€Ð°Ð±Ð¾Ñ‚"
											Command="{Binding ShowBrigadeByWorkTypeQueryCommand}"/>
								</StackPanel>
							</StackPanel>

							<StackPanel>
								<Button Classes="menu-button"
										Click="OnDropdownButtonClick"
										Content="ðŸ—ï¸ ÐžÐ±ÑŠÐµÐºÑ‚Ñ‹ Ð¸ Ñ‚ÐµÑ…Ð½Ð¸ÐºÐ° â–¼"/>

								<StackPanel Classes="submenu-panel">
									<Button Classes="menu-button"
											Content="ðŸ“… ÐžÐ±ÑŠÐµÐºÑ‚Ñ‹ Ð¸ Ð³Ñ€Ð°Ñ„Ð¸ÐºÐ¸"
											Command="{Binding ShowObjectWithScheduleQueryCommand}"/>

									<Button Classes="menu-button"
											Content="ðŸšœ Ð¢ÐµÑ…Ð½Ð¸ÐºÐ° ÑƒÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ñ"
											Command="{Binding ShowDepartmentEquipmentQueryCommand}"/>

									<Button Classes="menu-button"
											Content="ðŸ—ï¸ Ð¢ÐµÑ…Ð½Ð¸ÐºÐ° Ð¾Ð±ÑŠÐµÐºÑ‚Ð°"
											Command="{Binding ShowObjectEquipmentQueryCommand}"/>
									
									<Button Classes="menu-button"
											Content="ðŸ”Ž ÐžÐ±ÑŠÐµÐºÑ‚Ñ‹ Ð¿Ð¾ Ð²Ð¸Ð´Ð°Ð¼ Ñ€Ð°Ð±Ð¾Ñ‚"
											Command="{Binding ShowObjectsWithWorkTypesQueryCommand}"/>
								</StackPanel>
							</StackPanel>

							<StackPanel>
								<Button Classes="menu-button"
										Click="OnDropdownButtonClick"
										Content="ðŸ“Š ÐžÑ‚Ñ‡ÐµÑ‚Ð½Ð¾ÑÑ‚ÑŒ Ð¸ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ñ‹ â–¼"/>

								<StackPanel Classes="submenu-panel">
									<Button Classes="menu-button"
											Content="ðŸ“ Ð“Ñ€Ð°Ñ„Ð¸Ðº Ð¸ ÑÐ¼ÐµÑ‚Ð° Ð¾Ð±ÑŠÐµÐºÑ‚Ð°"
											Command="{Binding ShowObjectScheduleQueryCommand}"/>

									<Button Classes="menu-button"
											Content="ðŸ“Š ÐžÑ‚Ñ‡ÐµÑ‚ Ð¿Ð¾ Ð¾Ð±ÑŠÐµÐºÑ‚Ñƒ"
											Command="{Binding ShowObjectReportQueryCommand}"/>

									<Button Classes="menu-button"
											Content="â±ï¸ ÐŸÑ€ÐµÐ²Ñ‹ÑˆÐµÐ½Ð¸Ðµ ÑÑ€Ð¾ÐºÐ¾Ð² Ñ€Ð°Ð±Ð¾Ñ‚"
											Command="{Binding ShowWorkTypeWithDelayQueryCommand}"/>
									
									<Button Classes="menu-button"
											Content="ðŸ’° ÐŸÑ€ÐµÐ²Ñ‹ÑˆÐµÐ½Ð¸Ðµ ÑÐ¼ÐµÑ‚Ñ‹"
											Command="{Binding ShowMaterialWithOverEstimateQueryCommand}"/>
								</StackPanel>
							</StackPanel>
							
						</StackPanel>
					</ScrollViewer>

					<StackPanel Grid.Row="2" Spacing="5">
						<Button Classes="menu-button"
                                Click="ToggleTheme_Click"
                                Content="ðŸŒ“ Ð¡Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ Ñ‚ÐµÐ¼Ñƒ"/>

						<Button Classes="danger-button"
                                Command="{Binding LogoutCommand}"
                                Content="ðŸ‘‹ Ð¡Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ñ"/>
						
						<ToggleButton Name="btnOpenMenu"
									  Classes="menu-button"
									  HorizontalAlignment="Stretch"
									  HorizontalContentAlignment="Center">
							<ToggleButton.Styles>
								<Style Selector="ToggleButton[IsChecked=true] /template/ ContentPresenter">
									<Setter Property="Content" Value="â—€ï¸ Ð¡Ð²ÐµÑ€Ð½ÑƒÑ‚ÑŒ Ð¼ÐµÐ½ÑŽ"/>
								</Style>
								<Style Selector="ToggleButton[IsChecked=false] /template/ ContentPresenter">
									<Setter Property="Content" Value="â–¶ï¸"/>
								</Style>
							</ToggleButton.Styles>
						</ToggleButton>
						
					</StackPanel>
				</Grid>
			</SplitView.Pane>

			<ContentControl Content="{Binding ContentSwitcher}"/>
		</SplitView>

		<ContentControl Content="{Binding ContentSwitcher}"
                       IsVisible="{Binding !IsMenuVisible}"/>
	</Grid>

</Window>
